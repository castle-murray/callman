{% extends 'callManager/base.html' %}
{% block title %}Sign-In QR Code - {{ event.event_name }}{% endblock %}
{% block content %}
    <div class="max-w-md mx-auto p-6 bg-card-bg rounded-lg shadow-md dark:bg-dark-card-bg dark:shadow-dark-shadow">
        <h1 class="text-2xl font-bold mb-4 text-text-heading dark:text-dark-text-primary">Sign-In QR Code for {{ event.event_name }}</h1>
        {% if qr_url %}
            <p class="text-text-primary mb-4 dark:text-dark-text-primary">Scan this QR code to access the sign-in station for {{ event.event_name }}.</p>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data={{ qr_url|urlencode }}" alt="QR Code" class="mx-auto mb-4">
            <p class="text-text-secondary dark:text-dark-text-secondary">Valid for 7 days.</p>
        {% else %}
            <form method="post" class="flex flex-col gap-4">
                {% csrf_token %}
                <p class="text-text-primary mb-4 dark:text-dark-text-primary">Generate a QR code for sign-in station access.</p>
                <button type="submit" class="bg-primary text-dark-text-primary p-2 rounded hover:bg-primary-hover dark:bg-dark-primary dark:hover:bg-dark-primary-hover">Generate QR Code</button>
            </form>
        {% endif %}
        <a href="{% url 'manager_dashboard' %}" class="mt-4 inline-block text-primary hover:underline dark:text-dark-text-blue dark:hover:text-dark-primary-hover">Back to Dashboard</a>
    </div>
{% endblock %}
