{% extends 'callManager/base.html' %}

{% block title %}Workers - Callman{% endblock %}

{% block content %}
    <h1 class="text-3xl font-bold mb-6">Workers</h1>

    <div class="mb-6 flex space-x-4">
        <a href="{% url 'add_worker' %}" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Add New Worker</a>
    </div>

    <!-- Search Bar -->
    <div class="mb-6">
        <input type="text" 
               name="search" 
               value="{{ search_query }}" 
               hx-get="{% url 'worker_list' %}" 
               hx-target="#worker-list" 
               hx-swap="outerHTML"
               hx-trigger="keyup changed delay:300ms" 
               placeholder="Search by name or phone..." 
               class="w-full max-w-md p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
    </div>

    <!-- Include the partial template for initial load -->
    {% include 'callManager/worker_list_partial.html' %}
{% endblock %}
