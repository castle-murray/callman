<form method="post" 
      hx-post="{% url 'call_time_tracking' call_time.slug %}" 
      hx-target="#meal-break-{{ meal_break.id }}" 
      hx-swap="innerHTML">
    {% csrf_token %}
    <input type="hidden" name="request_id" value="{{ time_entry.labor_request.id }}">
    <input type="hidden" name="action" value="update_meal_break">
    <input type="hidden" name="meal_break_id" value="{{ meal_break.id }}">
    <select name="time" class="p-1 border rounded bg-card-bg text-text-tertiary dark:bg-dark-card-bg dark:text-dark-text-tertiary dark:border-dark-border">
        {% for hour in hours %}
            {% for minute in minutes %}
                <option value="{{ hour }}:{{ minute }}" {% if meal_break.break_time|date:"H:i" == hour|add:":"|add:minute %}selected{% endif %}>
                    {{ hour }}:{{ minute }}
                </option>
            {% endfor %}
        {% endfor %}
    </select>
    <button type="submit" class="ml-2 bg-primary text-dark-text-primary px-2 py-1 rounded hover:bg-primary-hover dark:bg-dark-primary dark:hover:bg-dark-primary-hover">Save</button>
    <button type="button" 
            hx-get="{% url 'call_time_tracking_meal_display' call_time.slug %}?meal_break_id={{ meal_break.id }}" 
            hx-target="#meal-break-{{ meal_break.id }}" 
            class="ml-2 bg-secondary text-dark-text-primary px-2 py-1 rounded hover:bg-secondary-hover dark:bg-dark-secondary dark:hover:bg-dark-secondary-hover">Cancel</button>
</form>
