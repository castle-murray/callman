{% extends 'callManager/base.html' %}

{% block title %}Workers - Callman{% endblock %}

{% block content %}
    <h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Workers</h1>

    <div class="mb-6 flex space-x-4">
        <a href="{% url 'add_worker' %}" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700">Add New Worker</a>
    </div>

    <!-- Search Bar -->
    <div class="mb-6">
        <input type="text" 
               name="search" 
               value="{{ search_query }}" 
               hx-get="{% url 'worker_list' %}" 
               hx-target="#worker-list" 
               hx-swap="outerHTML"
               hx-trigger="keyup changed delay:300ms" 
               placeholder="Search by name or phone..." 
               class="w-full max-w-md p-2 border rounded bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 dark:focus:ring-blue-400">
    </div>

    <!-- Include the partial template for initial load -->
    {% include 'callManager/worker_list_partial.html' %}
{% endblock %}
